"use strict";(self.webpackChunkgreenfield_js_sdk_docs=self.webpackChunkgreenfield_js_sdk_docs||[]).push([[509],{6976:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>a});var r=t(9214),s=t(3159);const a=[];function i(e){const n={a:"a",admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["This is only ",(0,r.jsx)(n.a,{href:"/client/tx-client",children:"construct"})," tx, next need ",(0,r.jsx)(n.a,{href:"/client/tx-client#simulate",children:"simulate"})," and\n",(0,r.jsx)(n.a,{href:"/client/tx-client#broadcast",children:"broadcast"})]})})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},2548:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>j,frontMatter:()=>l,metadata:()=>c,toc:()=>h});var r=t(9214),s=t(3159),a=t(4375),i=t(6976);const l={id:"feegrant",title:"Feegrant"},d=void 0,c={id:"api/feegrant",title:"Feegrant",description:"grantAllowance",source:"@site/docs/api/feegrant.mdx",sourceDirName:"api",slug:"/api/feegrant",permalink:"/greenfield-js-sdk/api/feegrant",draft:!1,unlisted:!1,editUrl:"https://github.com/bnb-chain/greenfield-js-sdk/tree/main/doc-site/docs/api/feegrant.mdx",tags:[],version:"current",frontMatter:{id:"feegrant",title:"Feegrant"},sidebar:"GettingStartSidebar",previous:{title:"Crosschain",permalink:"/greenfield-js-sdk/api/crosschain"},next:{title:"Gashub",permalink:"/greenfield-js-sdk/api/gashub"}},o={},h=[{value:"grantAllowance <ApiTypes></ApiTypes>",id:"grantallowance-",level:2},...i.RM,{value:"revokeAllowance <ApiTypes></ApiTypes>",id:"revokeallowance-",level:2},...i.RM,{value:"getAllowence <ApiTypes></ApiTypes>",id:"getallowence-",level:2},{value:"getAllowences <ApiTypes></ApiTypes>",id:"getallowences-",level:2}];function x(e){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h2,{id:"grantallowance-",children:["grantAllowance ",(0,r.jsx)(a.A,{type:"Tx"})]}),"\n",(0,r.jsx)(n.p,{children:"Provides a way to grant allowance, the user needs to construct the desired type of allowance."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"params"}),(0,r.jsx)(n.th,{children:"description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"amount"}),(0,r.jsxs)(n.td,{children:["amount of ",(0,r.jsx)(n.a,{href:"/types/coin",children:"Coin"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"denom"}),(0,r.jsxs)(n.td,{children:["denom of ",(0,r.jsx)(n.a,{href:"/types/coin",children:"Coin"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"allowedMessages"}),(0,r.jsxs)(n.td,{children:["array of ",(0,r.jsx)(n.a,{href:"/constants/msg-type-url",children:"Msg Type URL"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"granter"}),(0,r.jsx)(n.td,{children:"the address of the user granting an allowance of their funds"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"grantee"}),(0,r.jsx)(n.td,{children:"the address of the user being granted an allowance of another user's funds."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"expirationTime"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"/types/timestamp",children:"Timestamp"})})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",metastring:'title="example"',children:"const tx = await client.feegrant.grantAllowance({\n  granter: '0x00...',\n  grantee: '0x00...',\n  allowedMessages: [MsgDeleteObjectTypeUrl],\n  amount: parseEther('0.09').toString(),\n  denom: 'BNB',\n  expirationTime: toTimestamp(date),\n});\n"})}),"\n",(0,r.jsx)(i.Ay,{}),"\n",(0,r.jsxs)(n.h2,{id:"revokeallowance-",children:["revokeAllowance ",(0,r.jsx)(a.A,{type:"Tx"})]}),"\n",(0,r.jsx)(n.p,{children:"revokes allowance on a grantee by the granter."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"params"}),(0,r.jsx)(n.th,{children:"description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"granter"}),(0,r.jsx)(n.td,{children:"the address of the user granting an allowance of their funds"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"grantee"}),(0,r.jsx)(n.td,{children:"grantee is the address of the user being granted an allowance of another user's funds"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",metastring:'title="example"',children:"const tx = await client.feegrant.revokeAllowance({\n  granter: '0x00...',\n  grantee: '0x00...',\n});\n"})}),"\n",(0,r.jsx)(i.Ay,{}),"\n",(0,r.jsxs)(n.h2,{id:"getallowence-",children:["getAllowence ",(0,r.jsx)(a.A,{type:"Query"})]}),"\n",(0,r.jsx)(n.p,{children:"queries the BasicAllowance."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"params"}),(0,r.jsx)(n.th,{children:"description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"granter"}),(0,r.jsx)(n.td,{children:"the address of the user granting an allowance of their funds"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"grantee"}),(0,r.jsx)(n.td,{children:"grantee is the address of the user being granted an allowance of another user's funds"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",metastring:'title="example"',children:"await client.feegrant.getAllowence({\n  granter: '0x00...',\n  grantee: '0x00...',\n});\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"getallowences-",children:["getAllowences ",(0,r.jsx)(a.A,{type:"Query"})]}),"\n",(0,r.jsx)(n.p,{children:"queries the BasicAllowance by account address."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"params"}),(0,r.jsx)(n.th,{children:"description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"grantee"}),(0,r.jsx)(n.td,{children:"grantee is the address of the user being granted an allowance of another user's funds"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"pagination"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"/types/pagination",children:"Pagination"})})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",metastring:'title="example"',children:"import { Long } from '@bnb-chain/greenfield-js-sdk';\nawait client.feegrant.getAllowences({\n  grantee: '0x00...',\n  pagination: {\n    limit: Long.fromInt(10),\n    offset: Long.fromInt(0),\n    countTotal: true,\n    key: Uint8Array.from([]),\n    reverse: false,\n  },\n});\n"})})]})}function j(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},4375:(e,n,t)=>{t.d(n,{A:()=>s});t(8318);var r=t(9214);const s=e=>{const{type:n}=e;return(0,r.jsx)("span",{style:{backgroundColor:"#25c2a0",borderRadius:"5px",color:"#FFF",fontSize:14,padding:2},children:n})}},3159:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var r=t(8318);const s={},a=r.createContext(s);function i(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);